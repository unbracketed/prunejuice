name: code-review
description: Perform comprehensive code review with Claude Code
extends: base-command
arguments:
  - name: pr_number
    required: false
    description: GitHub PR number to review (optional, will review current changes if not provided)
  - name: focus_areas
    required: false
    default: "security,performance,maintainability"
    description: Comma-separated list of focus areas for the review
environment:
  CODE_REVIEW_MODE: "true"
steps:
  - setup-review-environment
  - gather-changes
  - run-security-analysis
  - run-performance-analysis
  - run-maintainability-check
  - generate-review-report
  - store-artifacts
timeout: 2700